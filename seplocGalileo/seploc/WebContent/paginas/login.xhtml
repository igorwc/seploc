<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich"
      template="../templatepage/masterpage.xhtml">
      <ui:define name="menu"/>
      <ui:define name="msgUser"/>


	<!-- TAXINOMIA -->      
	<ui:define name="taxinomia" />      
       
	<ui:define name="conteudo">
	<style type="text/css">  
	.error { 
    font-weight: bold;
    font-style:normal;
    color:#FF0000;
    font-size: 8pt;
    font-family: tahoma, arial;
}
</style>
		<center><f:view>
			<h:panelGrid columns="2" styleClass="loginTable">
			 <h:graphicImage alt="cadeado" url="../imgs/cadeado.gif"></h:graphicImage>  
			<h:form id="loginForm" prependId="false">
			<br/><br/>			
				<h:panelGrid columns="2" styleClass="login">
					<h:outputLabel value="Usuário" for="username" />
					<h:inputText id="username" value="#{login.userName}" 
					                           required="true"
					                           requiredMessage="Login deve ser informado"
					                            size="21">
					                           <f:validateLength minimum="1"/>
					</h:inputText> 
					                           
					<h:outputLabel value="Senha" for="passwd" />
					<h:inputSecret id="passwd" value="#{login.password}" size="21"/>

					<h:outputLabel value="Nova Senha" for="newpasswd" />
					<h:inputSecret id="newpasswd" size="21"/>

					<h:outputLabel value="Repetir Senha" for="renewpasswd" />
					<h:inputSecret id="renewpasswd" size="21"/>

				</h:panelGrid>
				<h:outputLabel value="Usuário e/ou Senha errado(s)" 
				               rendered="#{login.falhaLogin}" 
				               styleClass="error" /><br />
				 <h:messages  errorClass="error" layout="table" showDetail="false" showSummary="true" />
				 <rich:spacer></rich:spacer> 
			<!--	<rich:messages for="loginForm"  showDetail="true" showSummary="true" styleClass="error" /> -->
				<h:commandButton value="Entrar" action="#{login.validateLogin}" />
				 <a4j:commandButton value="Salvar"
                  action="#{login.validateLogin}"
                  reRender="loginForm"
                  oncomplete="#{rich:component('confirmationMessage')}.show()"
                  /> 
			</h:form>
			</h:panelGrid>
			<!-- Mensagens -->
        <rich:modalPanel id="confirmationMessage" autosized="true" width="200">
        <f:facet name="header">
            <h:outputText value="Cadastro de papel"
                style="padding-right:15px;" />
        </f:facet>
        <f:facet name="controls">
            <h:panelGroup>
                <h:graphicImage value="/imgs/icons/close.png"
                    styleClass="hidelink" id="hidelink2" />
                <rich:componentControl for="deletePanel" attachTo="hidelink2"
                    operation="hide" event="onclick" />
            </h:panelGroup>
        </f:facet>
        <h:form>
            <table width="100%">
                <tbody>
                    <tr>
                        <td align="center" width="100%">
                           	<rich:messages   showDetail="false" showSummary="true" styleClass="texto"/>
                        </td>
                    </tr>
                    <tr>
                        <td align="center" width="100%"><a4j:commandButton
                            value="OK"
                            onclick="#{rich:component('confirmationMessage')}.hide();return false;" />
                        </td>
                    </tr>
                </tbody>
            </table>
        </h:form>
    </rich:modalPanel>
		</f:view></center>
	</ui:define>
</ui:composition>